<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>M√©todo Pomodoro üçÖ</title>
    <link rel="icon" href="img/Logo-marca.png" />

    <!-- ‚úÖ Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              fondo: "#171717",
              rojo: "#ef4444", // üçÖ Rojo Pomodoro
              azul: "#0690cf",
              gris: "#9CA3AF",
              amarillo: "#FACC15",
              verde: "#22C55E",
            },
          },
        },
      };
    </script>
  </head>

  <body
    class="bg-fondo text-white min-h-screen flex flex-col items-center justify-start p-4 font-[Inter]"
  >
    <!-- Header -->
    <header class="w-full flex items-center justify-between mb-6">
      <img
        src="img/Back.png"
        alt="Atr√°s"
        class="w-8 h-8 cursor-pointer hover:scale-110 transition-transform"
        onclick="window.location.href='index.html'"
      />
      <h1 class="text-2xl font-semibold text-rojo flex items-center gap-2">
        üçÖ M√©todo Pomodoro
      </h1>
      <div class="w-8"></div>
    </header>

    <!-- Progreso -->
    <section class="flex flex-col items-center mb-10 relative">
      <svg class="w-40 h-40" viewBox="0 0 140 140">
        <circle
          class="text-gris"
          stroke="currentColor"
          stroke-width="10"
          fill="transparent"
          r="60"
          cx="70"
          cy="70"
        />
        <circle
          id="progress-ring"
          stroke="#ef4444"
          stroke-width="10"
          fill="transparent"
          stroke-linecap="round"
          r="60"
          cx="70"
          cy="70"
          style="
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
            stroke-dasharray: 377;
            stroke-dashoffset: 377;
          "
        />
      </svg>

      <!-- Porcentaje dentro del c√≠rculo -->
      <div
        id="progress-percentage"
        class="absolute text-2xl font-bold text-rojo top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 select-none"
      >
        0%
      </div>

      <div id="progress-text" class="text-lg text-gris mt-3">Sin empezar</div>
    </section>

    <!-- Pasos -->
    <section class="w-full max-w-xl space-y-6">
      <!-- Paso 1 -->
      <div
        class="bg-[#232323]/90 p-5 rounded-2xl shadow-lg border border-rojo/20"
      >
        <h2 class="text-xl font-semibold text-rojo mb-2">
          1. Elige una tarea üçÖ
        </h2>
        <p class="text-gray-300">
          Escoge una actividad espec√≠fica que quieras completar en esta sesi√≥n
          de concentraci√≥n.
        </p>
      </div>

      <!-- Paso 2 -->
      <div
        class="bg-[#232323]/90 p-5 rounded-2xl shadow-lg border border-rojo/20"
      >
        <h2 class="text-xl font-semibold text-rojo mb-2">
          2. Trabaja durante 25 minutos ‚è±Ô∏è
        </h2>
        <p class="text-gray-300 mb-3">
          Evita distracciones y conc√©ntrate completamente hasta que el
          temporizador acabe.
        </p>
        <div class="flex items-center justify-between">
          <span id="timer25" class="text-3xl font-bold">25:00</span>
          <div class="space-x-3">
            <button
              id="restart25"
              class="px-3 py-1 bg-rojo/90 rounded-lg hover:bg-rojo transition"
            >
              Reiniciar
            </button>
            <button
              id="pause25"
              class="px-3 py-1 bg-rojo/90 rounded-lg hover:bg-rojo transition"
            >
              Pausar
            </button>
          </div>
        </div>
      </div>

      <!-- Paso 3 -->
      <div
        class="bg-[#232323]/90 p-5 rounded-2xl shadow-lg border border-rojo/20"
      >
        <h2 class="text-xl font-semibold text-rojo mb-2">
          3. Toma un descanso corto ‚òï
        </h2>
        <p class="text-gray-300 mb-3">
          Descansa 5 minutos, lev√°ntate, est√≠rate o haz algo que te relaje.
        </p>
        <div class="flex items-center justify-between">
          <span id="timer5" class="text-3xl font-bold">05:00</span>
          <div class="space-x-3">
            <button
              id="restart5"
              class="px-3 py-1 bg-rojo/90 rounded-lg hover:bg-rojo transition"
            >
              Reiniciar
            </button>
            <button
              id="pause5"
              class="px-3 py-1 bg-rojo/90 rounded-lg hover:bg-rojo transition"
            >
              Pausar
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Bot√≥n -->
    <button
      id="btn-progreso"
      class="mt-10 px-8 py-3 bg-rojo/90 rounded-xl hover:bg-rojo transition font-semibold text-lg"
    >
      Iniciar m√©todo
    </button>

    <!-- Script de l√≥gica -->
    <script>
      const progressRing = document.getElementById("progress-ring");
      const progressText = document.getElementById("progress-text");
      const progressPercentage = document.getElementById("progress-percentage");
      const btnProgreso = document.getElementById("btn-progreso");

      const estados = [
        { porcentaje: 0, color: "#9CA3AF", texto: "Sin empezar" },
        { porcentaje: 50, color: "#FACC15", texto: "En proceso" },
        { porcentaje: 100, color: "#22C55E", texto: "Completado" },
      ];

      let estadoActual = 0;

      btnProgreso.addEventListener("click", () => {
        estadoActual = (estadoActual + 1) % estados.length;
        actualizarProgreso(estados[estadoActual]);
      });

      function actualizarProgreso(estado) {
        const circunferencia = 2 * Math.PI * 60;
        const offset =
          circunferencia - (estado.porcentaje / 100) * circunferencia;
        progressRing.style.strokeDashoffset = offset;
        progressRing.style.stroke = estado.color;
        progressText.textContent = estado.texto;
        progressPercentage.textContent = `${estado.porcentaje}%`;
        progressPercentage.style.color = estado.color;
        btnProgreso.textContent =
          estado.texto === "Completado"
            ? "Reiniciar m√©todo"
            : "Siguiente estado";
      }

      // --- Temporizadores ---
      function crearTemporizador(id, restartId, pauseId, minutos) {
        let segundos = minutos * 60;
        let intervalo = null;
        const display = document.getElementById(id);
        const restartBtn = document.getElementById(restartId);
        const pauseBtn = document.getElementById(pauseId);

        function actualizarDisplay() {
          const m = Math.floor(segundos / 60)
            .toString()
            .padStart(2, "0");
          const s = (segundos % 60).toString().padStart(2, "0");
          display.textContent = `${m}:${s}`;
        }

        function iniciarTemporizador() {
          if (intervalo) return;
          intervalo = setInterval(() => {
            segundos--;
            actualizarDisplay();
            if (segundos <= 0) {
              clearInterval(intervalo);
              intervalo = null;
            }
          }, 1000);
        }

        function pausarTemporizador() {
          clearInterval(intervalo);
          intervalo = null;
        }

        function reiniciarTemporizador() {
          segundos = minutos * 60;
          actualizarDisplay();
        }

        restartBtn.addEventListener("click", reiniciarTemporizador);
        pauseBtn.addEventListener("click", () => {
          if (intervalo) {
            pausarTemporizador();
            pauseBtn.textContent = "Reanudar";
          } else {
            iniciarTemporizador();
            pauseBtn.textContent = "Pausar";
          }
        });

        actualizarDisplay();
      }

      crearTemporizador("timer25", "restart25", "pause25", 25);
      crearTemporizador("timer5", "restart5", "pause5", 5);
    </script>
  </body>
</html>
